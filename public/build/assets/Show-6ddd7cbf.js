import{u as y,r,R as e,H as k,L as S,d as _}from"./app-449953c9.js";import{L as I}from"./Admin-5de45ef5.js";import{S as C}from"./sweetalert2.all-21d7b9e9.js";import{S as D,P as E}from"./Pagination-1951b4b7.js";import{D as P}from"./Delete-1cd0c2d3.js";function R(){const{errors:n,biodatas:s,sks:l}=y().props,[m,u]=r.useState([]),[o,b]=r.useState(""),[i,h]=r.useState(""),p=l.jabatan.tarifgaji*3,N=new Date().getFullYear(),d=2020,v=N,f=Array.from({length:v-d+1},(t,a)=>d+a),g=t=>{let a=m;a.some(c=>c===t.target.value)?a=a.filter(c=>c!==t.target.value):a.push(t.target.value),u(a)},w=async t=>{t.preventDefault(),_.Inertia.post("/admin/sks/store_transaction",{sk_id:l.id,biodata_id:m,tribulan:o,tahun:i,gaji:p},{onSuccess:()=>{C.fire({title:"Success!",text:"Data saved successfully!",icon:"success",showConfirmButton:!1,timer:1500}),setImage(null),setColorID("")}})};return e.createElement(e.Fragment,null,e.createElement(k,null,e.createElement("title",null,"Create SK - SIKAP")),e.createElement(I,null,e.createElement(S,{href:"/admin/sks",className:"btn btn-md btn-primary border-0 shadow",type:"button"},e.createElement("i",{className:"fa fa-long-arrow-alt-left me-2"}),"Kembali"),e.createElement("div",{className:"row mt-3"},e.createElement("div",{className:"col-md-8"},e.createElement("div",{className:"row"},e.createElement("div",{class:"col-md-9 col-12 mb-2"},e.createElement(D,{URL:`/admin/sks/${l.id}`}))))),e.createElement("div",{className:"row mt-3"},e.createElement("div",{className:"col-12"},e.createElement("div",{className:"card border-0 rounded shadow-sm border-top-success"},e.createElement("div",{className:"card-header"},e.createElement("span",{className:"font-weight-bold"},e.createElement("i",{className:"fa fa-users"})," Add Transaction SK : ",e.createElement("strong",null,l.name))),e.createElement("div",{className:"card-body"},e.createElement("form",{onSubmit:w},e.createElement("div",{className:"col-md-12"},e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"form-label fw-bold"},"Select Tribulan"),e.createElement("select",{className:"form-select",value:o,onChange:t=>b(t.target.value)},e.createElement("option",{value:"0"},"-- Pilih Tribulan --"),e.createElement("option",{value:"1"},"I"),e.createElement("option",{value:"2"},"II"),e.createElement("option",{value:"3"},"III"))),n.tribulan&&e.createElement("div",{className:"alert alert-danger"},n.tribulan)),e.createElement("div",{className:"col-md-12"},e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"form-label fw-bold"},"Select Tahun"),e.createElement("select",{className:"form-select",value:i,onChange:t=>h(t.target.value)},e.createElement("option",{value:"0"},"-- Pilih Tahun --"),f.map(t=>e.createElement("option",{key:t,value:t},t)))),n.tahun&&e.createElement("div",{className:"alert alert-danger"},n.tahun)),e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"fw-bold"},"Nama Biodata"),e.createElement("br",null),e.createElement("div",{className:"card-body"},e.createElement("div",{className:"table-responsive"},e.createElement("table",{className:"table table-bordered table-striped table-hovered"},e.createElement("thead",null,e.createElement("tr",null,e.createElement("th",{scope:"col",style:{width:"5%"}},"No."),e.createElement("th",{scope:"col",style:{width:"15%"}},"Name"),e.createElement("th",{scope:"col",style:{width:"15%"}},"Action"))),e.createElement("tbody",null,s.data.map((t,a)=>e.createElement("tr",{key:a},e.createElement("td",{className:"text-center"},++a+(s.current_page-1)*s.per_page),e.createElement("td",null,t.name),e.createElement("td",null,e.createElement("input",{className:"form-check-input",type:"checkbox",value:t.id,onChange:g,id:`check-${t.id}`})))))))),e.createElement(E,{links:s.links,align:"end"}),n.biodata_id&&e.createElement("div",{className:"alert alert-danger mt-2"},n.biodata_id)),e.createElement("div",null,e.createElement("button",{type:"submit",className:"btn btn-md btn-success me-2"},e.createElement("i",{className:"fa fa-save"})," Save"))))))),e.createElement("div",{className:"row mt-2 mb-4"},e.createElement("div",{className:"col-12"},e.createElement("div",{className:"card border-0 rounded shadow-sm border-top-success"},e.createElement("div",{className:"card-header"},e.createElement("span",{className:"font-weight-bold"},e.createElement("i",{className:"fa fa-hospital"})," Biodata SK")),e.createElement("div",{className:"card-body"},e.createElement("div",{className:"table-responsive"},e.createElement("table",{className:"table table-bordered table-striped table-hovered"},e.createElement("thead",null,e.createElement("tr",null,e.createElement("th",{scope:"col",style:{width:"5%"}},"No."),e.createElement("th",{scope:"col",style:{width:"15%"}},"Nama"),e.createElement("th",{scope:"col",style:{width:"15%"}},"Nik"),e.createElement("th",{scope:"col",style:{width:"15%"}},"No HP"),e.createElement("th",{scope:"col",style:{width:"15%"}},"No Rekening"),e.createElement("th",{scope:"col",style:{width:"15%"}},"Actions"))),e.createElement("tbody",null,l.sktransactions.data.map((t,a)=>e.createElement("tr",{key:a},e.createElement("td",{className:"text-center"},++a+(l.sktransactions.current_page-1)*l.sktransactions.per_page),e.createElement("td",null,t.biodata.name),e.createElement("td",null,t.biodata.nik),e.createElement("td",null,t.biodata.nohp),e.createElement("td",null,t.biodata.norek),e.createElement("td",{className:"text-center"},e.createElement(P,{URL:"/admin/sks/destroy_transaction",id:t.id}))))))),e.createElement("br",null),e.createElement(E,{links:l.sktransactions.links,align:"end"})))))))}export{R as default};
